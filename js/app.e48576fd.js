(function(e){function t(t){for(var s,n,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n=(a("034f"),a("2877")),o={},c=Object(n["a"])(o,r,i,!1,null,null,null),l=c.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100vh"}},[a("Login"),a("Footer")],1)},m=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid px-4 px-md-5 py-5 px-lg-1 px-xl-5 mx-auto"},[a("div",{staticClass:"card card0 border-0"},[a("div",{staticClass:"row d-flex"},[e._m(0),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card2 card border-0 px-4 py-5"},[a("div",{staticClass:"row px-3 pb-3"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dni,expression:"dni"}],staticClass:"form-control bg-light",attrs:{type:"text",id:"exampleInputDNI1","aria-describedby":"DNI",placeholder:"DNI"},domProps:{value:e.dni},on:{input:function(t){t.target.composing||(e.dni=t.target.value)}}})]),a("div",{staticClass:"row px-3 pb-5"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control bg-light",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Contraseña"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"row px-3 mb-4"}),a("div",{staticClass:"row mb-3 px-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.logIn(e.dni,e.password)}}},[e._v(" Login ")])])])])])])])},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6 d-flex justify-content-center pt-5"},[s("img",{staticStyle:{"max-height":"150px"},attrs:{src:a("c45a"),alt:"Responsive image"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"mb-1"},[a("h6",{staticClass:"mb-0 text-sm"},[e._v("Dni")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"mb-1"},[a("h6",{staticClass:"mb-0 text-sm"},[e._v("Contraseña")])])}],v=(a("b0c0"),a("2591")),f={name:"Login",data:function(){return{email:"",password:"",name:"",dni:"",arrayUsers:[]}},props:{},methods:{testing:function(){},logUser:function(e){for(var t in this.arrayUsers=[],e)this.arrayUsers.push({name:e[t].name,password:e[t].password,dni:e[t].dni,id:e[t].id,vaccine:e[t].vaccine,centerVaccine:e[t].centerVaccine,dateVaccine:e[t].dateVaccine,rol:e[t].rol,sexo:e[t].sexo,isVacunado:e[t].isVacunado})},logIn:function(e,t){for(var a in window.localStorage.removeItem("userLogged"),this.arrayUsers)if(this.arrayUsers[a].dni===e&&this.arrayUsers[a].password===t){var s=this.getRandomKey();v["a"].database().ref("users/"+this.arrayUsers[a].dni).set({name:this.arrayUsers[a].name,password:this.arrayUsers[a].password,dni:this.arrayUsers[a].dni,id:s,vaccine:this.arrayUsers[a].vaccine,centerVaccine:this.arrayUsers[a].centerVaccine,dateVaccine:this.arrayUsers[a].dateVaccine,rol:this.arrayUsers[a].rol,sexo:this.arrayUsers[a].sexo,isVacunado:this.arrayUsers[a].isVacunado});var r={name:this.arrayUsers[a].name,password:this.arrayUsers[a].password,dni:this.arrayUsers[a].dni,id:s,vaccine:this.arrayUsers[a].vaccine,centerVaccine:this.arrayUsers[a].centerVaccine,dateVaccine:this.arrayUsers[a].dateVaccine,rol:this.arrayUsers[a].rol,sexo:this.arrayUsers[a].sexo,isVacunado:this.arrayUsers[a].isVacunado};this.userControl={dni:this.arrayUsers[a].dni,pass:this.arrayUsers[a].password,rol:this.arrayUsers[a].rol},localStorage.setItem("userControl",JSON.stringify(this.userControl)),localStorage.setItem("userLogged",JSON.stringify(r)),this.$router.push({name:"user",params:{id:s}})}},resetVars:function(){this.email="",this.password="",this.name="",this.dni=""},getRandomKey:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<25;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},mounted:function(){var e=this;v["a"].database().ref("users/").on("value",(function(t){return e.logUser(t.val())}))}},g=f,y=(a("9ce0"),Object(n["a"])(g,p,h,!1,null,null,null)),x=y.exports,b=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},C=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("footer",{staticClass:"  d-xl-none d-lg-none d-md-none d-sm-block d-xs-block "},[s("div",{staticClass:"row d-flex justify-content-center container-fluid px-0 mx-0"},[s("div",{staticClass:"col-3",staticStyle:{height:"1rem","background-color":"#cc0066"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#33cccc"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#0099cc"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#003366"}}),s("div",{staticClass:"col-3",staticStyle:{height:"1rem","background-color":"#101f44"}})]),s("div",{staticClass:"row"},[s("div",{staticClass:"\n          bg-light\n          col-12\n          pt-2\n          pb-2\n          d-flex\n          align-items-center\n          justify-content-center\n        "},[s("img",{attrs:{src:a("f22e"),alt:"Responsive image",height:"75rem",width:"auto"}})]),s("div",{staticClass:"\n          bg-primary\n          ccol-12\n          d-flex\n          align-items-center\n          justify-content-center\n        "},[s("p",{staticClass:"text-light",staticStyle:{"text-align":"center"}},[e._v(" © 2021 Equipo SarsPass. Todos los derechos reservados. ")])]),s("div",{staticClass:"\n          bg-dark\n          col-12\n          d-flex\n          align-items-center\n          justify-content-center\n          pt-2\n          pb-2\n        "},[s("img",{attrs:{src:a("dedc"),alt:"Responsive image",height:"75rem",width:"auto"}})])])]),s("footer",{staticClass:"  d-none d-xl-block d-lg-block d-md-block d-sm-none d-xs-none",staticStyle:{position:"fixed",bottom:"0px",width:"100%"}},[s("div",{staticClass:"row d-flex justify-content-center container-fluid px-0 mx-0"},[s("div",{staticClass:"col-3",staticStyle:{height:"1rem","background-color":"#cc0066"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#33cccc"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#0099cc"}}),s("div",{staticClass:"col-2",staticStyle:{height:"1rem","background-color":"#003366"}}),s("div",{staticClass:"col-3",staticStyle:{height:"1rem","background-color":"#101f44"}})]),s("div",{staticClass:"row"},[s("div",{staticClass:"\n          bg-light\n          col-4\n          pt-2\n          pb-2\n          d-flex\n          align-items-center\n          justify-content-center\n        "},[s("img",{attrs:{src:a("f22e"),alt:"Responsive image",height:"75rem",width:"auto"}})]),s("div",{staticClass:"\n          bg-primary\n          col-4\n          d-flex\n          align-items-center\n          justify-content-center\n        "},[s("p",{staticClass:"text-light",staticStyle:{"text-align":"center"}},[e._v(" © 2021 Equipo SarsPass. Todos los derechos reservados. ")])]),s("div",{staticClass:"\n          bg-dark\n          col-4\n          d-flex\n          align-items-center\n          justify-content-center\n          pt-2\n          pb-2\n        "},[s("img",{attrs:{src:a("dedc"),alt:"Responsive image",height:"75rem",width:"auto"}})])])])])}],w={},_=w,V=Object(n["a"])(_,b,C,!1,null,null,null),U=V.exports,k={name:"Home",components:{Footer:U,Login:x}},I=k,S=Object(n["a"])(I,u,m,!1,null,null,null),N=S.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("user-comp"),a("Footer")],1)},j=[],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container px-5 py-5 d-flex justify-content-center"},[a("div",{staticClass:"card",staticStyle:{width:"18rem"},on:{click:e.goToInfo}},[a("h3",{staticClass:"card-title text-center mt-5"},[e._v("QR de usuario")]),a("vue-qrcode",{key:e.componentKey,attrs:{value:e.url}}),a("div",{staticClass:"card-body"},[a("h3",{staticClass:"card-title text-center"},[e._v(e._s(this.infoUser.name))]),a("p",{staticClass:"card-text display-4 text-center",attrs:{id:"demo"}}),e._m(0)])],1)])},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped bg-info",staticStyle:{width:"0%"},attrs:{id:"bar",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"60000"}})])}],P=a("9a13"),D={name:"UserComp",data:function(){return{infoUser:"",url:"",componentKey:0,localLog:"",longBar:0,barNow:1,timer:"",forceRender:""}},components:{VueQrcode:P["a"]},props:{},methods:{setTimer:function(){var e=(new Date).getTime();e+=6e4,this.timer=setInterval((function(){var t=(new Date).getTime(),a=e-t;this.longBar=a;var s=Math.floor(a%6e4/1e3)+1;document.getElementById("demo").innerHTML=+s+"s ",document.getElementById("bar").removeAttribute("aria-valuenow"),100-s/60*100>=66&&100-s/60*100<=85?document.getElementById("bar").setAttribute("class","progress-bar progress-bar-striped bg-warning"):100-s/60*100<66?document.getElementById("bar").setAttribute("class","progress-bar progress-bar-striped bg-info"):100-s/60*100>85&&document.getElementById("bar").setAttribute("class","progress-bar progress-bar-striped bg-danger"),document.getElementById("bar").setAttribute("Style","width: "+(100-s/60*100)+"%"),a<=0&&(e+=6e4)}),10)},goToInfo:function(){this.$router.push({name:"check",params:{id:this.infoUser.id}})},reload:function(e){var t=localStorage.getItem("userLogged");this.localLog=JSON.parse(t),v["a"].database().ref("users/"+this.localLog.dni).set({name:this.localLog.name,password:this.localLog.password,dni:this.localLog.dni,id:e,vaccine:this.localLog.vaccine,centerVaccine:this.localLog.centerVaccine,dateVaccine:this.localLog.dateVaccine,rol:this.localLog.rol,sexo:this.localLog.sexo,isVacunado:this.localLog.isVacunado});var a={name:this.localLog.name,password:this.localLog.password,dni:this.localLog.dni,id:e,vaccine:this.localLog.vaccine,centerVaccine:this.localLog.centerVaccine,dateVaccine:this.localLog.dateVaccine,rol:this.localLog.rol,sexo:this.localLog.sexo,isVacunado:this.localLog.isVacunado};localStorage.setItem("userLogged",JSON.stringify(a)),this.infoUser=JSON.parse(localStorage.getItem("userLogged"))},forceRerender:function(){this.componentKey+=1;var e=this.getRandomKey();this.url="http://192.168.0.40:8080/#/check/"+e,this.reload(e)},getRandomKey:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<25;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},beforeDestroy:function(){clearInterval(this.timer),clearInterval(this.forceRender)},mounted:function(){this.infoUser=JSON.parse(localStorage.getItem("userLogged")),this.url="http://192.168.0.40:8080/#/check/"+this.infoUser.id,clearInterval(this.interval),clearInterval(this.forceRender),this.forceRender=setInterval(this.forceRerender,6e4),this.setTimer()}},R=D,F=Object(n["a"])(R,E,O,!1,null,"32c1834b",null),$=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light static-top"},[a("div",{staticClass:"container-fluid w-100"},[a("a",{staticClass:"navbar-brand w-100"},[a("div",{staticClass:"row w-100"},[e._m(0),e._m(1),a("div",{staticClass:"col-lg-5 col-xl-5 col-sm-12 col-xs-12 col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"\n                col-lg-6 col-xl-6 col-sm-12 col-xs-12 col-md-12\n                d-flex\n                justify-content-end\n                my-1\n                px-5\n              "},[e.comp()?a("button",{staticClass:"btn text-light w-100",staticStyle:{"background-color":"#0099cc"},attrs:{type:"button"},on:{click:function(t){return e.goToRegister()}}},[e._v(" Añadir usuario ")]):e._e()]),a("div",{staticClass:"\n                col-lg-6 col-xl-6 col-sm-12 col-xs-12 col-md-12\n                d-flex\n                justify-content-end\n                my-1\n                px-5\n              "},[a("button",{staticClass:"btn btn-danger w-100",staticStyle:{"background-color":"#cc0066"},attrs:{type:"button"},on:{click:e.cerrarSesion}},[e._v(" Cerrar sesion ")])])])])])])])])},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"\n            col-lg-7 col-xl-7 col-sm-12 col-xs-12 col-md-12 d-xl-none d-lg-none d-md-block d-sm-block d-xs-block\n            d-flex\n            justify-content-center\n          "},[s("img",{staticClass:"img-fluid",staticStyle:{"max-height":"50px"},attrs:{src:a("f0e4")}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"\n            col-lg-7 col-xl-7 col-sm-12 col-xs-12 col-md-12 d-none d-xl-block d-lg-block d-md-none d-sm-none d-xs-none\n            d-flex\n            justify-content-start\n          "},[s("img",{staticClass:"img-fluid",staticStyle:{"max-height":"50px"},attrs:{src:a("f0e4")}})])}],M={data:function(){return{roll:"",compr:!1}},mounted:function(){this.roll=JSON.parse(localStorage.getItem("userControl")).rol,this.compr=this.comp()},methods:{goToRegister:function(){this.$router.push({name:"register",params:{}})},comp:function(){return"Admin"==this.roll},cerrarSesion:function(){localStorage.setItem("userControl",null),localStorage.setItem("userLogged",null),this.$router.push({name:"Home",params:{}})}}},H=M,J=Object(n["a"])(H,A,T,!1,null,null,null),B=J.exports,K={name:"userView",components:{UserComp:$,Header:B,Footer:U}},z=K,q=Object(n["a"])(z,L,j,!1,null,"3f4958c0",null),Q=q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("register-new-user"),a("Footer")],1)},G=[],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5 px-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("form",{staticClass:"card "},[a("p",{staticClass:"card-header"},[e._v(" Registrar nuevo usuario")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputName1"}},[e._v("Nombre completo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"name",id:"exampleInputName1","aria-describedby":"Name",placeholder:"Nombre completo"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputDNI"}},[e._v("DNI")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dni,expression:"dni"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputDNI","aria-describedby":"DNI",placeholder:"DNI"},domProps:{value:e.dni},on:{input:function(t){t.target.composing||(e.dni=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Contraseña"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword"}},[e._v("Sexo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.sexo,expression:"sexo"}],staticClass:"form-select",attrs:{"aria-label":"Sexo"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sexo=t.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[e._v("Sexo")]),a("option",{attrs:{value:"Hombre"}},[e._v("Hombre")]),a("option",{attrs:{value:"Mujer"}},[e._v("Mujer")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword"}},[e._v("Vacunado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.isVacunado,expression:"isVacunado"}],staticClass:"form-select",attrs:{"aria-label":"Vacunado"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.isVacunado=t.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[e._v("Vacunado")]),a("option",{attrs:{value:"Si"}},[e._v("Si")]),a("option",{attrs:{value:"No"}},[e._v("No")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword"}},[e._v("Rol de usuario")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.rol,expression:"rol"}],staticClass:"form-select",attrs:{"aria-label":"Rol of user"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.rol=t.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[e._v("rol")]),a("option",{attrs:{value:"Admin"}},[e._v("Admin")]),a("option",{attrs:{value:"User"}},[e._v("User")]),a("option",{attrs:{value:"Sanitary"}},[e._v("Sanitary")]),a("option",{attrs:{value:"Control"}},[e._v("Control")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputVaccine"}},[e._v("Vaccine Brand")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vaccine,expression:"vaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputVaccine",placeholder:"Vaccine"},domProps:{value:e.vaccine},on:{input:function(t){t.target.composing||(e.vaccine=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputCenterVaccine"}},[e._v("Center of Vaccine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.centerVaccine,expression:"centerVaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputCenterVaccine",placeholder:"Center Vaccine"},domProps:{value:e.centerVaccine},on:{input:function(t){t.target.composing||(e.centerVaccine=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputDateVaccine"}},[e._v("Date of Vaccine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateVaccine,expression:"dateVaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputDateVaccine",placeholder:"Date Vaccine"},domProps:{value:e.dateVaccine},on:{input:function(t){t.target.composing||(e.dateVaccine=t.target.value)}}})]),a("br"),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.registerNewUser()}}},[e._v("register")])])])])])])},Z=[],Y={name:"registerNewUser",data:function(){return{password:"",name:"",dni:"",arrayUsers:[],vaccine:"",centerVaccine:"",dateVaccine:"",rol:"",sexo:"",isVacunado:""}},props:{},methods:{resetVars:function(){this.password="",this.name="",this.dni="",this.vaccine="",this.centerVaccine="",this.dateVaccine="",this.rol="",this.sexo="",this.isVacunado=""},getRandomKey:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<25;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},registerNewUser:function(){var e=this.getRandomKey();v["a"].database().ref("users/"+this.dni).set({name:this.name,password:this.password,dni:this.dni,id:e,vaccine:this.vaccine,centerVaccine:this.centerVaccine,dateVaccine:this.dateVaccine,rol:this.rol,sexo:this.sexo,isVacunado:this.isVacunado}).then((function(){console.log("New user registered.")})),this.resetVars()}}},ee=Y,te=Object(n["a"])(ee,X,Z,!1,null,"a30b0668",null),ae=te.exports,se={name:"registerView",components:{RegisterNewUser:ae,Footer:U,Header:B}},re=se,ie=Object(n["a"])(re,W,G,!1,null,"792c8ec5",null),ne=ie.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("check-user"),a("Footer")],1)},ce=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{directives:[{name:"show",rawName:"v-show",value:!this.show,expression:"!this.show"}]},[a("div",{staticClass:"card card0 border-0 px-5 py-5 mx-5 my-5"},[a("div",{staticClass:"row d-flex"},[e._m(0),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card2 card border-0 py-5"},[a("div",{staticClass:"row  pb-3"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dniForm,expression:"dniForm"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputDNI1","aria-describedby":"DNI",placeholder:"DNI"},domProps:{value:e.dniForm},on:{input:function(t){t.target.composing||(e.dniForm=t.target.value)}}})]),a("div",{staticClass:"row  pb-5"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passForm,expression:"passForm"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Contraseña"},domProps:{value:e.passForm},on:{input:function(t){t.target.composing||(e.passForm=t.target.value)}}})]),a("div",{staticClass:"row px-3 mb-4"}),a("div",{staticClass:"row mb-3 px-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.logUser(e.dniForm,e.passForm)}}},[e._v(" Login ")])])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"this.show"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:!this.coincide,expression:"!this.coincide"}],staticClass:" "},[a("div",{staticClass:"card card0 border-0 px-5 py-5 mx-5 my-5"},[a("div",{staticClass:"row d-flex"},[e._m(3),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card2 card border-0 px-5 py-5"},[e._m(4),a("div",{staticClass:"row px-3 pb-5"},[a("button",{staticClass:"btn btn-primary card-text",attrs:{type:"button"},on:{click:e.goToUser}},[e._v(" Atras ")])]),a("div",{staticClass:"row px-3 mb-4"}),a("div",{staticClass:"row mb-3 px-3"})])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.coincide,expression:"this.coincide"}],staticClass:"row justify-content-center"},[a("div",{staticClass:"col-9 py-5 my-5"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"Admin"===e.rol,expression:"rol === 'Admin'"}]},[a("div",{attrs:{id:"info"}},[null!==e.userCheck?a("div",[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v(e._s(this.userCheck.name))]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Informacion del usuario")]),a("p",{staticClass:"card-text"},[e._v("DNI: "+e._s(this.userCheck.dni))]),a("p",{staticClass:"card-text"},[e._v(" Esta vacunado: "+e._s(this.userCheck.isVacunado)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Vacuna: "+e._s(this.userCheck.vaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Centro de vacunacion: "+e._s(this.userCheck.centerVaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Fecha de vacunacion"+e._s(this.userCheck.dateVaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v("Sexo: "+e._s(this.userCheck.sexo))])])])]):e._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Control"===e.rol,expression:"rol === 'Control'"}]},[a("div",{attrs:{id:"info"}},[null!==e.userCheck?a("div",[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v(e._s(this.userCheck.name))]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Informacion del usuario")]),a("p",{staticClass:"card-text"},[e._v("DNI: "+e._s(this.userCheck.dni))]),a("p",{staticClass:"card-text"},[e._v(" Esta vacunado: "+e._s(this.userCheck.isVacunado)+" ")])])])]):e._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Sanitary"===e.rol,expression:"rol === 'Sanitary'"}]},[a("div",{attrs:{id:"info"}},[null!==e.userCheck?a("div",[e.modi?a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v(e._s(this.userCheck.name))]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Informacion del usuario")]),a("p",{staticClass:"card-text"},[e._v("DNI: "+e._s(this.userCheck.dni))]),a("p",{staticClass:"card-text"},[e._v(" Esta vacunado: "+e._s(this.userCheck.isVacunado)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Vacuna: "+e._s(this.userCheck.vaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Centro de vacunacion: "+e._s(this.userCheck.centerVaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v(" Fecha de vacunacion"+e._s(this.userCheck.dateVaccine)+" ")]),a("p",{staticClass:"card-text"},[e._v("Sexo: "+e._s(this.userCheck.sexo))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.mod}},[e._v(" Modificar ")])])]):e._e(),e.modi?e._e():a("div",{staticClass:"card"},[a("h1",{staticClass:"card-header"},[e._v("Actualizar usuario")]),a("form",{staticClass:"card-body"},[a("h5",[e._v(e._s(this.userCheck.name))]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword"}},[e._v("Vacunado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.isVacunado,expression:"isVacunado"}],staticClass:"form-select",attrs:{"aria-label":"Vacunado"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.isVacunado=t.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[e._v("Vacunado")]),a("option",{attrs:{value:"Si"}},[e._v("Si")]),a("option",{attrs:{value:"No"}},[e._v("No")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputVaccine"}},[e._v("Vaccine Brand")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vaccine,expression:"vaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputVaccine",placeholder:"Vaccine"},domProps:{value:e.vaccine},on:{input:function(t){t.target.composing||(e.vaccine=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputCenterVaccine"}},[e._v("Center of Vaccine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.centerVaccine,expression:"centerVaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputCenterVaccine",placeholder:"Center Vaccine"},domProps:{value:e.centerVaccine},on:{input:function(t){t.target.composing||(e.centerVaccine=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputDateVaccine"}},[e._v("Date of Vaccine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateVaccine,expression:"dateVaccine"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputDateVaccine",placeholder:"Date Vaccine"},domProps:{value:e.dateVaccine},on:{input:function(t){t.target.composing||(e.dateVaccine=t.target.value)}}})]),a("br"),a("div",{staticClass:"row d-flex justify-content-around"},[a("div",{staticClass:"col-3 d-flex justify-content-around"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.updateUser(e.isVacunado,e.vaccine,e.dateVaccine,e.centerVaccine)}}},[e._v(" Modificar ")])]),a("div",{staticClass:"col-3 d-flex justify-content-around"},[a("button",{staticClass:"btn btn-danger",staticStyle:{"align-self":"right"},attrs:{type:"button"},on:{click:e.mod}},[e._v(" Cancelar ")])])])])])]):e._e()])])])])])])},de=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6 d-flex justify-content-center pt-5"},[s("img",{staticStyle:{"max-height":"200px"},attrs:{src:a("c45a"),alt:"Responsive image"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"mb-1"},[a("h6",{staticClass:"mb-0 text-sm"},[e._v("Dni")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"mb-1"},[a("h6",{staticClass:"mb-0 text-sm"},[e._v("Contraseña")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6 d-flex justify-content-center pt-5"},[s("img",{staticStyle:{"max-height":"200px"},attrs:{src:a("c45a"),alt:"Responsive image"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row px-3 pb-3"},[a("div",{staticClass:"col-12"},[a("h1",[e._v("Clave caducada.")]),a("h1",[e._v("Intentelo de nuevo.")])])])}],ue={name:"checkUser",data:function(){return{key:"",dniForm:"",passForm:"",arrayUsers:[],show:!1,userCheck:null,rol:"",userControl:{},localLog:[],vaccine:"",centerVaccine:"",isVacunado:"",dateVaccine:"",modi:!1,coincide:!0}},props:{},methods:{loadUsers:function(e){for(var t in this.arrayUsers=[],e)this.arrayUsers.push({name:e[t].name,password:e[t].password,rol:e[t].rol,dni:e[t].dni,id:e[t].id,vaccine:e[t].vaccine,centerVaccine:e[t].centerVaccine,dateVaccine:e[t].dateVaccine,sexo:e[t].sexo,isVacunado:e[t].isVacunado});this.autoLogger()},mod:function(){this.modi=!this.modi},logUser:function(e,t){if(null===this.localLog)for(e in this.dniForm=e,this.passForm=t,this.arrayUsers)this.dniForm===this.arrayUsers[e].dni&&this.passForm===this.arrayUsers[e].password&&("Admin"!==this.arrayUsers[e].rol&&"Sanitary"!==this.arrayUsers[e].rol&&"Control"!==this.arrayUsers[e].rol||(this.check(this.arrayUsers[e]),this.userControl={dni:this.dniForm,pass:this.passForm,rol:this.arrayUsers[e].rol},localStorage.setItem("userControl",JSON.stringify(this.userControl)),this.autoLogger(),this.show=!0))},goToUser:function(){var e=localStorage.getItem("userControl");for(var t in this.localLog=JSON.parse(e),this.arrayUsers)if(this.arrayUsers[t].dni===this.localLog.dni&&this.arrayUsers[t].password===this.localLog.pass){var a={name:this.arrayUsers[t].name,password:this.arrayUsers[t].password,dni:this.arrayUsers[t].dni,id:this.key,vaccine:this.arrayUsers[t].vaccine,centerVaccine:this.arrayUsers[t].centerVaccine,dateVaccine:this.arrayUsers[t].dateVaccine,rol:this.arrayUsers[t].rol,sexo:this.arrayUsers[t].sexo,isVacunado:this.arrayUsers[t].isVacunado};v["a"].database().ref("users/"+this.arrayUsers[t].dni).set({name:this.arrayUsers[t].name,password:this.arrayUsers[t].password,dni:this.arrayUsers[t].dni,id:this.key,vaccine:this.arrayUsers[t].vaccine,centerVaccine:this.arrayUsers[t].centerVaccine,dateVaccine:this.arrayUsers[t].dateVaccine,rol:this.arrayUsers[t].rol,sexo:this.arrayUsers[t].sexo,isVacunado:this.arrayUsers[t].isVacunado}),localStorage.setItem("userLogged",JSON.stringify(a))}this.$router.push({name:"user",params:{id:this.key}})},autoLogger:function(){this.key=this.$route.params.id;var e=localStorage.getItem("userControl");if(this.localLog=JSON.parse(e),null!==this.localLog)for(var t in this.arrayUsers)this.localLog.dni===this.arrayUsers[t].dni&&this.localLog.pass===this.arrayUsers[t].password&&("Admin"!==this.localLog.rol&&"Sanitary"!==this.localLog.rol&&"Control"!==this.localLog.rol||this.check(this.arrayUsers[t].rol));else this.show=!1},check:function(e){for(var t in this.arrayUsers)this.key===this.arrayUsers[t].id&&(this.userCheck={name:this.arrayUsers[t].name,dni:this.arrayUsers[t].dni,id:this.arrayUsers[t].id,vaccine:this.arrayUsers[t].vaccine,centerVaccine:this.arrayUsers[t].centerVaccine,dateVaccine:this.arrayUsers[t].dateVaccine,sexo:this.arrayUsers[t].sexo,isVacunado:this.arrayUsers[t].isVacunado},this.coincide=!0,this.vaccine=this.arrayUsers[t].vaccine,this.centerVaccine=this.arrayUsers[t].centerVaccine,this.isVacunado=this.arrayUsers[t].isVacunado,this.dateVaccine=this.arrayUsers[t].dateVaccine);this.rol=e,this.show=!0},updateUser:function(){for(var e in this.arrayUsers)this.key===this.arrayUsers[e].id&&v["a"].database().ref("users/"+this.arrayUsers[e].dni).set({name:this.arrayUsers[e].name,password:this.arrayUsers[e].password,dni:this.arrayUsers[e].dni,id:this.key,vaccine:this.vaccine,centerVaccine:this.centerVaccine,dateVaccine:this.dateVaccine,rol:this.arrayUsers[e].rol,sexo:this.arrayUsers[e].sexo,isVacunado:this.isVacunado}).then((function(){console.log("User updated sucessfully!")}));this.mod()}},mounted:function(){var e=this;this.show=!1,this.coincide=!1,this.key="",v["a"].database().ref("users/").on("value",(function(t){return e.loadUsers(t.val())}))},beforeDestroy:function(){}},me=ue,pe=Object(n["a"])(me,le,de,!1,null,"c3c65e4e",null),he=pe.exports,ve={name:"checkView",components:{CheckUser:he,Footer:U,Header:B}},fe=ve,ge=Object(n["a"])(fe,oe,ce,!1,null,"cbee6a20",null),ye=ge.exports;s["a"].use(d["a"]);var xe=[{path:"/",name:"Home",component:N},{path:"/user/:id",name:"user",component:Q},{path:"/register",name:"register",component:ne},{path:"/check/:id",name:"check",component:ye}],be=new d["a"]({routes:xe}),Ce=be,we=a("2f62");s["a"].use(we["a"]);var _e=new we["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ve=(a("ab8b"),a("7b17"),{apiKey:"AIzaSyAuO6RncbpXhkyZARf0fvWa1cHIeT1a078",authDomain:"sarspass-87cfd.firebaseapp.com",databaseURL:"https://sarspass-87cfd-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sarspass-87cfd",storageBucket:"sarspass-87cfd.appspot.com",messagingSenderId:"226113756559",appId:"1:226113756559:web:aeadc439ca8695fdecbffa",measurementId:"G-774LV08W2K"});v["a"].initializeApp(Ve),s["a"].config.productionTip=!1,new s["a"]({router:Ce,store:_e,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,a){},"9ce0":function(e,t,a){"use strict";a("d64c")},c45a:function(e,t,a){e.exports=a.p+"img/sarsPassLogoVertical.4de8b02d.png"},d64c:function(e,t,a){},dedc:function(e,t,a){e.exports=a.p+"img/logoUmaBlanco.c1b3094a.png"},f0e4:function(e,t,a){e.exports=a.p+"img/sarsPassLogoHorizontal.f296569b.png"},f22e:function(e,t,a){e.exports=a.p+"img/logoInformatica.df9a8c64.png"}});
//# sourceMappingURL=app.e48576fd.js.map